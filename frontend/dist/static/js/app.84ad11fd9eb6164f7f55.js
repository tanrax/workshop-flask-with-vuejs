webpackJsonp([1],{0:function(t,e){},"7ncL":function(t,e){},"J+cy":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a=n("8+8L"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},i,!1,function(t){n("7ncL")},null,null).exports,r=n("/ocq"),c=n("BO1k"),l=n.n(c),u={name:"Comment",props:["id"],data:function(){return{comments:[]}},mounted:function(){var t=this;s.a.http.get("http://flask-api.programadorwebvalencia.com/api/v1/notice/"+this.id+"/comments").then(function(e){t.comments=e.body},function(t){})}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments"},t._l(t.comments,function(e){return n("article",{key:e.id,staticClass:"message"},[n("div",{staticClass:"message-body"},[t._v("\n      "+t._s(e.text)+"\n    ")])])}))},staticRenderFns:[]};var m={name:"Cover",components:{comments:n("VU/8")(u,d,!1,function(t){n("sKpK")},"data-v-49283aa6",null).exports},data:function(){return{news:[],pag:1,showAddForm:!1,title:"",url:"",comments:0}},mounted:function(){this.updatePag(this.pag)},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{updatePag:function(t){var e=this;this.pag=t,s.a.http.get("http://flask-api.programadorwebvalencia.com/api/v1/notice/pag/"+this.pag).then(function(t){var n=!0,s=!1,a=void 0;try{for(var i,o=l()(t.body);!(n=(i=o.next()).done);n=!0){var r=i.value;e.news.push(r)}}catch(t){s=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(s)throw a}}e.$nextTick(function(){for(var t=document.querySelectorAll(".card.nobackground"),e=0;e<t.length;e++)t[e].classList.add("fondo"+this.numeroAleatorioEntre(1,8)),t[e].classList.remove("nobackground")})},function(t){})},addNotice:function(){var t=this;s.a.http.post("http://flask-api.programadorwebvalencia.com/api/v1/notice",{title:this.title,url:this.url,user_id:1}).then(function(e){t.updatePag(t.pag),t.showAddForm=!1,t.title="",t.url=""},function(t){})},showComments:function(t){var e=this;s.a.http.get("http://flask-api.programadorwebvalencia.com/api/v1/notice/"+t+"/comments").then(function(t){e.comments=t.body},function(t){})},getTopURL:function(t){var e=t.split("//")[1].split("/")[0],n=e;return"www."===e.substring(0,4)&&(n=e.slice(4)),n},numeroAleatorioEntre:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},handleScroll:function(t){var e=window.pageYOffset,n=window.innerHeight;document.body.offsetHeight-n-e<350&&(this.pag+=1,this.updatePag(this.pag))}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cover"},[n("div",{staticClass:"container"},[n("button",{staticClass:"button is-primary plus",on:{click:function(e){t.showAddForm=!t.showAddForm}}},[n("i",{staticClass:"fas fa-plus"})]),t._v(" "),t.showAddForm?n("section",{staticClass:"section"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{type:"text",placeholder:"Titulo"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"input",attrs:{type:"text",placeholder:"Enlace"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button",on:{click:t.addNotice}},[t._v("Enviar")])])])]):t._e(),t._v(" "),n("section",{staticClass:"section"},[n("div",{staticClass:"columns is-multiline"},t._l(t.news,function(e){return n("div",{key:e.id,staticClass:"column is-one-third",class:{"is-12":t.comments==e.id}},[n("div",{staticClass:"card nobackground"},[n("div",{staticClass:"card-content"},[n("p",{staticClass:"title"},[t._v("\n                      "+t._s(e.title)+"\n                  ")]),t._v(" "),n("p",{staticClass:"subtitle"},[t._v("\n                      "+t._s(t.getTopURL(e.url))+"\n                  ")])]),t._v(" "),n("footer",{staticClass:"card-footer"},[n("a",{staticClass:"card-footer-item",attrs:{href:e.url}},[t._m(0,!0)]),t._v(" "),n("a",{staticClass:"card-footer-item",class:{active:t.comments==e.id},on:{click:function(n){t.comments!=e.id?t.comments=e.id:t.comments=0}}},[t._m(1,!0)])])]),t._v(" "),t.comments==e.id?n("comments",{attrs:{id:e.id}}):t._e()],1)}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n                    Ver mÃ¡s "),e("i",{staticClass:"fas fa-arrow-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n                      Comentarios "),e("i",{staticClass:"far fa-comment"})])}]};var v=n("VU/8")(m,p,!1,function(t){n("J+cy")},"data-v-917e28b4",null).exports;s.a.use(r.a);var f=new r.a({routes:[{path:"/",name:"Cover",component:v}]});s.a.config.productionTip=!1,s.a.use(a.a),new s.a({el:"#app",router:f,components:{App:o},template:"<App/>"})},sKpK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.84ad11fd9eb6164f7f55.js.map